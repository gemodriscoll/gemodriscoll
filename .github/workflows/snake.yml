name: Generate Cute Snake

on:
  schedule:
    - cron: "0 */12 * * *"
  workflow_dispatch:

 permissions:
   contents: write

jobs:
  generate:
    runs-on: ubuntu-latest

   steps:
     - name: Generate snake animation
       uses: Platane/snk@v3
       with:
         github_user_name: gemodriscoll
         outputs: |
           dist/github-snake.svg
           dist/github-snake-light.svg?palette=github-light&color_snake=#FFB6D9&color_dots=#FFF5F7,#FFE5EC,#FFD4E5,#FFB6D9,#FF9EC7
           dist/github-snake-dark.svg?palette=github-dark&color_snake=#DDA0DD&color_dots=#2D1B2E,#4A2E4A,#6B3E6B,#9F5F9F,#C98FC9

     - name: Push to output branch
       uses: crazy-max/ghaction-github-pages@v3
       with:
         target_branch: output
         build_dir: dist
       env:
         GITHUB_TOKEN: $secrets.GITHUB_TOKEN
